# overthrust-tests - Synchronous Implementation

About Implementation:

The base C code was generated by DEVITO [Version](https://github.com/speglich/devito/commit/ac2b8f60ee8b9faa39b935d0f0dd40c6a9842997)

The only edited code was the Forward C and the code is available in `C_DEVITO/devito-jitcache-uid4061/33a343a98d592a0c440d55b2a919ebb69851480f.c`

The edited code adds:

* Necessary Headers at beginning of the code (l: 13)

```c
#include "stdio.h"
#include "unistd.h"
#include "fcntl.h"
```

* Open the scratch file (l: 53)

```c
  int file;

  if ((file = open("/scr01/test.data", O_WRONLY | O_CREAT | O_TRUNC,
      S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH)) == -1)
  {
      perror("Cannot open output file\n"); exit(1);
  }
```
** YOU SHOULD CHANGE THE PATH TO A VALID DIRECTORY IN YOUR ENVIRONMENT **

* call the `write` with the right parameters (l: 65)

```c
  write(file, u[t0], sizeof(float)*u_size);
```

* Wait until write the write finishes.... (l 225)
```c
close(file);
```

Usage:

```
make
```

This should run all the experiments.
